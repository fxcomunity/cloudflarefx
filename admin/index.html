<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin ‚Ä¢ FX Community</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#0b1220;
      --bg2:#151a33;
      --card: rgba(255,255,255,.08);
      --border: rgba(255,255,255,.14);
      --text:#e5e7eb;
      --muted:#a1a1aa;
      --primary:#7c3aed;
      --primary2:#6d28d9;
      --danger:#ef4444;
      --shadow:0 20px 60px rgba(0,0,0,.45);
    }

    *{box-sizing:border-box;margin:0;padding:0}

    body{
      font-family:"Plus Jakarta Sans",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:
        radial-gradient(1000px 600px at 10% 10%, #2b2f66 0%, transparent 60%),
        radial-gradient(900px 500px at 90% 20%, #3b1f6e 0%, transparent 55%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      color:var(--text);
      min-height:100vh;
    }

    /* TOPBAR */
    .topbar{
      position:sticky;
      top:0;
      z-index:10;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:16px 22px;
      backdrop-filter: blur(12px);
      background: rgba(0,0,0,.35);
      border-bottom:1px solid var(--border);
    }

    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      font-weight:800;
      font-size:16px;
    }

    .brand span{
      font-size:12px;
      color:var(--muted);
      font-weight:600;
    }

    .topbar a{
      text-decoration:none;
      padding:10px 16px;
      border-radius:14px;
      font-weight:800;
      color:#fff;
      background: linear-gradient(135deg,var(--primary),var(--primary2));
    }

    /* LAYOUT */
    .wrap{
      max-width:1100px;
      margin:0 auto;
      padding:30px 22px 60px;
    }

    h1{
      font-size:28px;
      font-weight:800;
      margin-bottom:8px;
    }

    .subtitle{
      color:var(--muted);
      margin-bottom:28px;
    }

    .grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:22px;
    }

    @media (max-width:900px){
      .grid{grid-template-columns:1fr}
    }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05));
      border:1px solid var(--border);
      border-radius:22px;
      box-shadow: var(--shadow);
      padding:22px;
    }

    .card h2{
      font-size:16px;
      font-weight:800;
      margin-bottom:14px;
    }

    /* FORM */
    label{
      display:block;
      font-size:12px;
      color:var(--muted);
      margin-bottom:6px;
    }

    input{
      width:100%;
      padding:12px 14px;
      border-radius:14px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.06);
      color:var(--text);
      margin-bottom:14px;
    }

    .btn{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:12px 16px;
      border-radius:14px;
      font-weight:800;
      border:0;
      cursor:pointer;
      color:#fff;
      background: linear-gradient(135deg,var(--primary),var(--primary2));
    }

    /* LIST */
    .item{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:14px;
      border-radius:16px;
      background: rgba(255,255,255,.06);
      border:1px solid var(--border);
      margin-bottom:12px;
    }

    .item b{
      display:block;
      margin-bottom:4px;
    }

    .item small{
      color:var(--muted);
      font-size:12px;
      word-break:break-all;
    }

    .item-actions{
      display:flex;
      gap:8px;
    }

    .btn.danger{
      background: rgba(239,68,68,.2);
    }

    footer{
      text-align:center;
      font-size:13px;
      color:var(--muted);
      margin-top:60px;
    }
  </style>
</head>

<body>

  <!-- TOPBAR -->
  <header class="topbar">
    <div class="brand">
      üõ†Ô∏è Admin Panel
      <span>FX Community</span>
    </div>
    <a href="../">Lihat Katalog</a>
  </header>

  <!-- CONTENT -->
  <main class="wrap">
    <h1>Kelola Dokumen PDF</h1>
    <p class="subtitle">
      Tambah, edit, dan hapus dokumen. Setelah selesai, update file JSON ke repo.
    </p>

    <div class="grid">
      <!-- FORM -->
      <div class="card">
        <h2>Tambah Dokumen</h2>

        <label>Judul Dokumen</label>
        <input id="title" type="text" placeholder="Contoh: Materi Trading Dasar" />

        <label>URL PDF</label>
        <input id="url" type="text" placeholder="pdf/nama-file.pdf atau https://..." />

        <button class="btn" id="add">+ Tambah Dokumen</button>
      </div>

      <!-- LIST -->
      <div class="card">
        <h2>Daftar Dokumen</h2>
        <div id="list"></div>
      </div>
    </div>

    <footer>
      ¬© <span id="year"></span> FX Community
    </footer>
  </main>

  <script>
    const listEl = document.getElementById("list");
    const titleEl = document.getElementById("title");
    const urlEl = document.getElementById("url");
    const yearEl = document.getElementById("year");

    let data = { items: [] };

    async function loadData(){
      try{
        const res = await fetch("../data/pdfs.json?_=" + Date.now());
        data = await res.json();
        render();
      }catch(e){
        data = { items: [] };
        render();
      }
    }

    function render(){
      listEl.innerHTML = "";
      if(!data.items.length){
        listEl.innerHTML = "<small>Belum ada dokumen.</small>";
        return;
      }

      data.items.forEach((item, i)=>{
        const div = document.createElement("div");
        div.className = "item";
        div.innerHTML = `
          <div>
            <b>${item.title}</b>
            <small>${item.url}</small>
          </div>
          <div class="item-actions">
            <button class="btn danger" onclick="removeItem(${i})">Hapus</button>
          </div>
        `;
        listEl.appendChild(div);
      });
    }

    function removeItem(i){
      if(!confirm("Hapus dokumen ini?")) return;
      data.items.splice(i,1);
      render();
    }

    document.getElementById("add").addEventListener("click", ()=>{
      const title = titleEl.value.trim();
      const url = urlEl.value.trim();

      if(!title || !url){
        alert("Judul dan URL wajib diisi");
        return;
      }

      data.items.push({ title, url });
      titleEl.value = "";
      urlEl.value = "";
      render();
    });

    yearEl.textContent = new Date().getFullYear();
    loadData();
  </script>

</body>
</html>
